<div id="bv-brc-page">
  <div id="bv-brc-page-container" style="max-width: none !important; height: 100%; margin: 0 0 0 0;">
    <div id="page-content-margin-id" class="page-content-margin" style="height: fit-content;">
      <div class="${baseClass}" style="overflow-y:auto;">
        <form dojoAttachPoint="containerNode" class="PanelFormWhite" dojoAttachEvent="onreset:_onReset,onsubmit:_onSubmit,onchange:validate">
          <div data-dojo-attach-point="registrationHeading" style="max-width:580px;">
            <h2 class="page-content-header">Registration</h2>
            <div style="margin:4px;margin-bottom:16px;">
              <span style="color:red;">*</span>= required
            </div>
          </div>

          <div data-dojo-attach-point="brcAds" class="RegistrationFormContainer">
            <h3 class="page-content-subheader">DXKB & BV-BRC Logins</h3>
            <div class="page-content-divider"></div>
            <p style="margin-bottom:8px;">For your convenience, DXKB uses the same login system as <a href="https://www.bv-brc.org" target="_blank">BV-BRC</a>. If you already have a BV-BRC account, you can use it to <a href="/login">login</a> to DXKB. If not, you can set up an account on this page.  Your DXKB account login will also be valid on the BV-BRC website.</p>
            <p class="HideWithAuth">Click <a href="https://lists.bv-brc.org/mailman/listinfo/all-users" target="_blank">HERE</a> to sign up for the BV-BRC mailing list.</p>
            <!-- TODO: Add DXKB mailing list signup -->
            <p class="HideWithAuth">Click <a href="" target="_blank">HERE</a> to sign up for the DXKB mailing list.</p>
          </div>

          <div class="RegistrationFormContainer" data-dojo-attach-point="mainForm">
            <span class="page-content-subheader">Identification</span>
            <div class="page-content-divider"></div>
            <table style="border-spacing:0">
              <tbody>
                  <tr>
                    <td style="width:15%;text-align:right;vertical-align:top;">
                      <span style="color:red;">*</span> Email:
                    </td>
                    <td>
                      <input type="text" name="email" style="width:100%" data-dojo-attach-point="emailField" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeholder:'Email Address',promptMessage:'Enter your email address',invalidMessage:'Invalid Email Address',validator:dojox.validate.isEmailAddress,trim:true, intermediateChanges: true" required="true" value="" data-dojo-attach-event="onChange: onEmailChanged">
                    </td>
                    <td style="width:15%;text-align:center;vertical-align:middle;">
                      <a class="dijitHidden" style="vertical-align:top;font-size:1em;" data-dojo-attach-point="resend_email_domnode" data-dojo-attach-event="click:onResendEmail">resend</a>
                      <img class="dijitHidden" style="width:24px;height:24px;vertical-align:bottom;" data-dojo-attach-point="email_wait_domnode" src="/public/patric/images/waiting_icon.jpg" />
                      <!-- <i class="dijitHidden icon-spinner8 fa fa-2x" data-dojo-attach-point="email_wait_domnode"></i> -->
                      <i class="icon-check dijitHidden" data-dojo-attach-point="email_verified_domnode" style="color: green;font-size:2em;" tooltip="Email Verified" ></i>

                    </td>
                  </tr>

                  <tr data-dojo-attach-point="verification_message" class="dijitHidden">
                    <td colspan="3">
                      <div data-dojo-attach-point="verification_message_inner" class="verification_message_inner"><p><i class="user_profile_warning_icon icon-warning" style="color:orange;"></i>This email address has not been verified. This may prevent you from resetting your password or reporting errors.  Click "resend" to resend the validation email. Alterneatively, you may update your email address and then click "Update Profile" below, which will automatically send you a new verification email. </p></div>
                    </td>
                  </tr>
                  <!-- <tr><td>* Retype Email:</td><td><input type="text" name="repeat_email" style="width:100%" data-dojo-attach-point="repeatEmailField" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeholder:'Repeat Email Address',promptMessage:'Repeat your email address',invalidMessage:'Invalid Email Address',validator:dojox.validate.isEmailAddress,trim:true, intermediateChanges: true" required="true" value="" data-dojo-attach-event="onChange: fieldChanged"></td></tr> -->
                  <tr><td style="width:15%;text-align:right;vertical-align:top;"><span style="color:red;">*</span> Username:</td><td data-dojo-attach-point="usernameContainer"><input class="useridField" type="text" style="display:block; width:100%" name="username" data-dojo-attach-point="UNF"
                    data-dojo-type="dijit/form/ValidationTextBox" value="" required="true"
                    data-dojo-props="placeholder:'Username', promptMessage:'Enter your username', intermediateChanges: true, regExp:'[\\w.-]+', invalidMessage: 'Enter a combination of letters, numbers, underscore(_), dot(.), and dash(-)'"
                    data-dojo-attach-event="onChange: fieldChanged" /></td></tr>
                  <tr><td style="width:15%;text-align:right;vertical-align:top;"><span style="color:red;">*</span> First Name:</td><td><div style="width:100%" data-dojo-type="dijit/form/ValidationTextBox" name="first_name" data-dojo-attach-point="fname" value="" data-dojo-props="placeholder:'First Name',promptMessage:'Enter your first name', intermediateChanges: true" data-dojo-attach-event="onChange: fieldChanged" required="true"></div></td></tr>
                  <tr><td style="width:15%;text-align:right;vertical-align:top;">Middle Name:</td><td><div data-dojo-type="dijit/form/ValidationTextBox" style="width:100%" name="middle_name" value="" data-dojo-attach-point="mname" data-dojo-props="placeholder:'Middle Name',promptMessage:'Enter your middle name', intermediateChanges: true" data-dojo-attach-event="onChange: fieldChanged" ></div></td></tr>
                  <tr><td style="width:15%;text-align:right;vertical-align:top;"><span style="color:red;">*</span> Last Name:</td><td><div data-dojo-type="dijit/form/ValidationTextBox" style="width:100%" name="last_name" value="" data-dojo-attach-point="lname" data-dojo-props="placeholder:'Last Name',promptMessage:'Enter your last name', intermediateChanges: true" data-dojo-attach-event="onChange: fieldChanged" required="true"></div></td></tr>
                  <tr><td style="width:15%;text-align:right;vertical-align:top;">Organization:</td><td colspan="2"><div style="width:100%" data-dojo-type="dijit/form/TextBox" name="affiliation" value=""></div></td></tr>
                  <tr><td style="width:15%;text-align:right;vertical-align:top;">Organisms:</td><td colspan="2"><div name="organisms" data-dojo-type="dijit/form/Textarea" value=""></div></td></tr>
                  <tr><td style="width:15%;text-align:right;vertical-align:top;">Interests:</td><td colspan="2"><div rows="5" name="interests" style="height:75px;max-width:99%;resize:vertical;" data-dojo-type="dijit/form/SimpleTextarea" value=""></div></td></tr>
                </tbody>
            </table>
          </div>

          <div class="RegistrationFormContainer" data-dojo-attach-point="setPasswordForm">
            <h3 class="page-content-subheader">Set Password</h3>
            <div class="page-content-divider"></div>
            <table>
              <tbody>
                <tr><th style="padding:0"><span style="color:red;">*</span>PASSWORD</th></tr>
                <tr><td style="padding-top:0">
                  <input class="pw1field" type="password" style="display:block" name="password" data-dojo-attach-point="password" data-dojo-type="dijit/form/TextBox" value="" required="true" data-dojo-props="intermediateChanges: true" data-dojo-attach-event="onChange: setPasswordsChanged">
                </td></tr>
                <tr><th style="padding:0"><span style="color:red;">*</span>PASSWORD (repeat)</th></tr>
                <tr><td style="padding-top:0">
                  <input class="pw2field" type="password" style="display:block" name="password_repeat" data-dojo-attach-point="password2" data-dojo-type="dijit/form/TextBox" value="" required="true" data-dojo-props="intermediateChanges: true" data-dojo-attach-event="onChange: setPasswordsChanged">
                </td></tr>
              </tbody>
            </table>
            <div data-dojo-attach-point="password_error" style="color:red; margin-top:20px;display:none"><p>The passwords must match</p></div>
          </div>

          <div data-dojo-attach-point="notificationsContainer"></div>

          <div style="max-width: 580px;margin:4px;margin-top: 28px;">
            <div class="upSubmit" style="" data-dojo-attach-point="udProfButton" type="submit" value="Submit" data-dojo-type="dijit/form/Button">Update Profile</div>
            <div class="newSubmit" style="display:none" data-dojo-attach-point="submitButton" type="submit" value="Submit" data-dojo-type="dijit/form/Button">Register</div>
            <div data-dojo-attach-point="regFormErrorsContainer" class="dijitHidden">
              <p class="regFormErrors" style="color:red"></p>
            </div>
          </div>

          <div class="regMessage dijitHidden" data-dojo-attach-point="regMessage" style="margin:4px;margin-top:16px;padding:4px;font-size:1.1em;">
            <p style="color: green;font-size:1.1em;margin-bottom: 12px;">
                Your registration has been received. An email has been sent containing the remainder of the registration process.
            </p>
            <div style="margin-bottom: 12px;" data-dojo-attach-point="initialNotificationsContainer">
            </div>
          </div>

          <div id="privacy-policy-blurb" style="margin-top: 20px;">
            <p>
              For more information on how we use your data, please see our <a href="/privacy-policy">Privacy Policy</a>.
              We may also send you emails to inform you of new features or changes to our services.
            </p>
          </div>
        </form>

        <div class="changepwsection" data-dojo-attach-point="changePWsec">
          <p>&nbsp;</p>
          <form>
            <table>
              <tbody><tr><th style="padding:0">OLD PASSWORD</th></tr>
                  <tr><td style="padding-top:0">
                    <input class="pw1field" type="password" style="display:block" name="pw0" data-dojo-attach-point="pw0" data-dojo-type="dijit/form/TextBox" value="" required="true" data-dojo-props="intermediateChanges: true" data-dojo-attach-event="onChange: pwChanged">
                  </td></tr>
                <tr><th style="padding:0">NEW PASSWORD</th></tr>
                <tr><td style="padding-top:0">
                  <input class="pw1field" type="password" style="display:block" name="pw1" data-dojo-attach-point="pw1" data-dojo-type="dijit/form/TextBox" value="" required="true" data-dojo-props="intermediateChanges: true" data-dojo-attach-event="onChange: pwChanged">
                </td></tr>
                <tr><th style="padding:0">NEW PASSWORD (reenter)</th></tr>
                <tr><td style="padding-top:0">
                  <input class="pw2field" type="password" style="display:block" name="pw2" data-dojo-attach-point="pw2" data-dojo-type="dijit/form/TextBox" value="" required="true" data-dojo-props="intermediateChanges: true" data-dojo-attach-event="onChange: pwChanged">
                </td></tr>
              </tbody>
            </table>
            <div class="changePWbutton" data-dojo-attach-event="click: onResetClick" style="margin:auto" data-dojo-attach-point="cPWbutton" type="button" data-dojo-type="dijit/form/Button">Change Password</div>
          </form>
          <div class="pwError" style="color:red; margin-top:20px;display:none"><p>The passwords do not match, please fix</p></div>
        </div>
      </div>
    </div>
  </div>
</div>

